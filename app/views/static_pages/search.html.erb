<%= render 'layouts/searchbar' %>
<div class="container mt-3 p-3">
  <% if @professionals && @professionals.count > 0 %>
  <div class="container">
    <div class="d-flex ">
      <h3>
        Showing results for
        <strong><%= "'#{@service}'"%></strong>
        <%if @location.present? %>
          in <strong><%= "'#{@location}'"%></strong>
        <%end%>
      </h3>
    </div>

    <% @professionals.each do |professional| %>
          <div class="d-flex flex-column border p-3">
            <div class="p-2"><%= link_to("#{professional.full_name}:", professional) %></div>
            <div class="p-2"><%= professional.service.capitalize %></div>
            <div class="p-2"><%= professional.address %></div>
          </div>
    <% end %>

	  <h3><%= @professionals.count %> pros found matching your criteria.</h3>
	  <p>We're asking you a few questions so we can bring you the right pros.</p>
	  <%= link_to "Next", '#', 'data-target' => '#questionsModal', 'data-toggle' => 'modal' %>    
  </div>
  <% else %>
  <div class="row">
    <h3>
      There are no results for
       <strong><%= "'#{@service}'"%></strong>
       <% if @location.present? %>
        in <strong> <%= "'#{@location}'"%></strong>
       <% end %>
    </h3>
  </div>
  <% end %>
</div>

<div class="modal fade" id="questionsModal">
  <div class="modal-dialog">
    <div class="modal-content">
			<div class="modal-header">
				<span data-dismiss="modal">&times;</span>
				<h2>TaftaPro</h2>
			</div>        
			<div class="modal-body">
        <% @questions.each do |question| %>   
          <%= form_for question do |f| %>
            <label><%= question %></label>
            <%= f.text_field :answer %>
            
            <%= f.submit "Next" %>
          <% end %>
        <% end %>
      </div>        
    </div>
  </div>
</div>